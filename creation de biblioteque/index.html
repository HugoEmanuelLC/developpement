<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ma biblioteque</title>
    
    <link rel="shortcut icon" type="image/x-icon" href="images/RPkFVa.png"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="blocParentDePage">

        <header>
            <div class="navig">
                <ul>
                    <li>
                        <a href="#">Home</a>
                    </li>

                    <li>
                        <a href="#php">Php</a>
                    </li>

                    <li>
                        <a href="#">Css</a>
                        <ul>
                            <li><a href="#displayFlex">display Flex</a></li>
                        </ul>
                    </li>

                    <li>
                        <a href="#">Jave Script</a>
                        <ul>
                            <li><a href="#node">node</a></li>
                            <li>
                                <a href="#express">Express</a>
                                <ul class="sous_lien_3eme_niveau">
                                    <li><a href="#lesRoutes">Les Routes</a></li>
                                </ul>
                            </li>
                            <li><a href="#body_parser">Body Parser</a></li>
                            <li><a href="#template_ejs">Template ejs</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </header>

        <section>
            <div id="fixe">
                <h1>Biblioteque au besoin :<br>Web Apps</h1>
            </div>

            <div id="php">
                <h1>PHP</h1>
                <code>
                    &lt;?php 
                        
                    ?&lt;
                </code>
            </div>

            <div id="displayFlex">
                <h1>Css : display Flex</h1>
            </div>
            
            <div id="node">
                <h1>NODE : bases</h1>
            </div>

            <div id="express">
                <h1>Express :</h1>
                <!-- &lt; &gt; -->

                <!-- <h3></h3>
                <code>
                    
                </code> -->

                <h3>npm init</h3>
                <p>On demarre un projet server.js en utilisant la commande npm init pour creer le package.json 
                   apres avoir creer le fichier de base du server (nom.js), qui sera le resum√© et les infos de notre serveur.</p>
                
                <h3>Importation d'une librairie</h3>
                <code>
                var express = require('express')
                </code>

                <h3>cr√©er un server avec node...</h3>
                <code>
                var http = require('http')<br>
                var server = http.createServer(function(req,res){ //‚Ä¶ })<br>
                server.listen(8888)
                </code>

                <h3>...et avec express</h3>
                <code>
                var express= require('express')<br>
                var app = express()<br>
                var port = 3000<br>

                app.listen(port)
                </code>

                <h3>Importation d'une page ou fragment de page, EX:</h3>
                <code>
                &lt;% include fragment/head.ejs %&gt;<br>
                &lt;div class="main-content"&gt;<br>
                &lt;%- include(page); -%&gt;<br>
                &lt;/div&gt;<br>
                &lt;% include fragment/foot.ejs %&gt;
                </code>

                <h3>Nodemon...</h3>
                <p>Pour nous faciliter la vie, √† nous et au server, 
                    on utilise <mark>nodemon nomServeur.js</mark> √† la place de <mark>node nomServeur.js</mark>,
                √ßa nous permettra de relance le serveur automatiquement en cas de changement dans les fichiers du server.</p>

                <h3>...Installation:</h3>
                <p><mark>
                    npm install -g nodemon      <code>//En mode global, pour tous les servers</code>
                </mark></p>
                <p><mark>
                    npm install nodemon      <code>//En mode local pour le server de ce projet</code>
                </mark></p>

                <p style="background-color: red;color: white;">Si une erreur de type interdiction de lancer nodemon √† cause de policy de lancement de script
                    ext√©rieur, il suffit de taper cette ligne pour r√©gler le soucis. (console powershell en administrateur)</p>
                <p>Regarder la restrinction de powershell</p>
                <mark>
                    Get-ExecutionPolicy
                </mark>

                <p>Si 'Restricted'</p>

                <mark>
                    Get-ExecutionPolicy Unrestricted
                </mark>

                <p>Verifier √† nouveau</p>
                <mark>
                    Get-ExecutionPolicy
                </mark>

                <p>Si 'Unrestricted'</p>

                <p>C'est bon !</p>
                
                <!-- &lt; &gt; -->

                <!-- <h3></h3>
                <code>
                    
                </code> -->
            </div>

            <div id="lesRoutes">
                <h1>Les Routes :</h1>

                <p><strong>App :</strong> L‚Äôapplication express en elle m√™me</p>
                <p><strong>Method :</strong> l‚Äôun des verbes http : GET, POST, PATCH, PUT, DELETE,‚Ä¶</p>
                <p><strong>Path :</strong> Chemin de l‚Äôurl qui doit √™tre captur√©e</p>
                <p><strong>handler :</strong> fonction anonyme ou fl√©ch√©e :) qui doit √™tre ex√©cut√©e</p>

                <h3>Le routing de base suit un pattern tr√®s simple:</h3>
                <mark>app.METHOD(PATH, HANDLER)</mark>
                <p>Exemple:</p>
                <code>
                    app.get(‚Äò/‚Äô, function(req, res) {<br>
                        console.log(‚Äòhello world‚Äô)<br>
                        })
                </code>
                <p>Le <strong>req :</strong> contient toute les informations concernant la requ√™te captur√©e.</p>
                <p>Le <strong>res :</strong> est l‚Äô√©l√©ment que le serveur express va renvoyer √† son interlocuteur. (le navigateur par ex)</p>

                <h3>Res</h3>
                <p><strong>res.download(‚ÄúpathFileName‚Äù) </strong>vous invite √† telecharger un fichier</p>
                <p><strong>res.end() </strong>mets fins au processus de reponse</p>
                <p><strong>res.json() </strong>envoie une reponse Json</p>
                <p><strong>res.redirect(URI) </strong>redirige une demande</p>
                <p><strong>res.render(‚ÄúviewName‚Äù) </strong>genere un modele de vue</p>
                <p><strong>res.send(‚Äústring‚Äù) </strong>envoie une reponse de divers type</p>
            </div>

            <div id="body_parser">
                <h1>body-parser :</h1>
            </div>

            <div id="template_ejs">
                <h1>Template ejs :</h1>

                <p>Pour "ejs" le tag principal est "&lt;% ... %&gt;"</p>
                <p>Et on le trouve sous plusieurs d√©clinaisons:</p>
                <p>&lt;% ü°∫ Contr√¥le du flow d‚Äôinstruction</p>
                <p>&lt;%= ü°∫ Affichage d‚Äôune valeur de variable, avec √©chappement des tags HTML</p>
                <p>&lt;%- ü°∫ Affichage d‚Äôune valeur sans √©chappement, injections de donn√©es</p>
                <p>&lt;%# ü°∫ Commentaires</p>
                <p>&lt;%% ü°∫ Permet de sortir ‚Äò&gt;%‚Äô</p>

                <h3></h3>
                <p>L‚Äôint√©r√™t des templates est de pouvoir retrouver l‚Äôutilisation des inclusions de fichiers au
                    moyen de la m√©thode <mark>‚Äòinclude()‚Äô</mark>.</p>
                <p>par exemple : l‚Äô<strong>index.ejs</strong>, sera le point d‚Äôentr√©e commun √† toutes les
                    vues de notre site :</p>
                <code>
                    &lt;%- include(page); -&gt;>
                </code>
            </div>

            <!-- <div id="">
                <h1></h1>
            </div> -->
        </section>

        <footer></footer>
    </div>
</body>
</html>